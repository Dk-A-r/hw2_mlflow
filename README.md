# hw2_mlflow

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –ø–æ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –í—ã–ø–æ–ª–Ω—è–ª —Å—Ç—É–¥–µ–Ω—Ç 2 –∫—É—Ä—Å–∞ –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—ã "–ò–Ω–∂–µ–Ω–µ—Ä–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è", –ö–∞—Ä–ø–æ–≤ –î–∞–Ω–∏–ª –í–∞—Å–∏–ª—å–µ–≤–∏—á.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–ª–µ–¥—É—é—â–∞—è:
- —Ñ–∞–π–ª experiments_script.py –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É MLFlow –∏ –∑–∞–ø—É—Å–∫ (–ª–æ–∫–∞–ª—å–Ω—ã–π) —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, —Å –∑–∞–ø–∏—Å—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–µ—Ç—Ä–∏–∫. –†–µ—à–∞–µ—Ç—Å—è –∑–∞–¥–∞—á–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ Iris - —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "Iris Classification". –¢–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è —Ç—Ä–∏ –º–æ–¥–µ–ª–∏ - —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ª–µ—Å–∞ (RandomForestClassifier) —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ sklearn. –ú–æ–¥–µ–ª–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ n_estimators: 10, 50, 100. –§–∏–∫—Å–∏—Ä—É—é—Ç—Å—è 4 –º–µ—Ç—Ä–∏–∫–∏ - accuracy, precision, recall, f1_score.
- —Ñ–∞–π–ª report_script.py –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞. –ß—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç —Å—Ä–∞–±–æ—Ç–∞–ª, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å–∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ MLFlow:
  ```
  $ mlflow ui
  ```
  –ü–æ–∑–¥–Ω–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–∫—Ä—ã—Ç—å –¥—Ä—É–≥–æ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, —Ç–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç experiments_script.py, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–∫—Ä–∏–ø—Ç report_script.py, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–µ—Ä–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ MLFlow. –ù–∞ –∏—Ç–æ–≥–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö (–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏) –∏–º–µ–µ—Ç—Å—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º estimators –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –º–µ—Ç—Ä–∏–∫. –ü–æ—Å–∫–æ–ª—å–∫—É —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞) –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –æ–¥–∏–Ω–∞–∫–æ–≤—ã. –í–º–µ—Å—Ç–µ —Å —Ç–µ–º –ø—Ä–∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∏ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –±–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏. –ê –ø–æ–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∏ —Å–ª–µ–¥—É—é—â–∏–µ:
* –ø–æ –º–µ—Ç—Ä–∏–∫–µ Accuracy
  ![accuracy_plot](https://github.com/Dk-A-r/hw2_mlflow/blob/main/accuracy_plot.png?raw=true)
* –ø–æ –º–µ—Ç—Ä–∏–∫–µ F1
  ![f1_plot](https://github.com/Dk-A-r/hw2_mlflow/blob/main/f1_score_plot.png?raw=true)
* –ø–æ –º–µ—Ç—Ä–∏–∫–µ Precision
  ![f1_plot](https://github.com/Dk-A-r/hw2_mlflow/blob/main/precision_plot.png?raw=true)
* –ø–æ –º–µ—Ç—Ä–∏–∫–µ Recall
 ![recall_plot](https://github.com/Dk-A-r/hw2_mlflow/blob/main/recall_plot.png?raw=true)

- —Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª report_script.py –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ—Ç—Ä–∏–∫ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–æ –∫–∞–∫–æ–º—É –∞–¥—Ä–µ—Å—É –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∞–º –æ—Ç—á–µ—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ UI MLFlow –ø–æ —Ç–∏–ø—É —Å–ª–µ–¥—É—é—â–µ–≥–æ:
```
    params.n_estimators  metrics.accuracy  metrics.precision  metrics.recall  metrics.f1_score
0                 100               1.0                1.0             1.0               1.0
1                  50               1.0                1.0             1.0               1.0
2                  10               1.0                1.0             1.0               1.0
3                 100               1.0                1.0             1.0               1.0
4                  50               1.0                1.0             1.0               1.0
5                  10               1.0                1.0             1.0               1.0
6                 100               1.0                NaN             NaN               NaN
7                 100               1.0                NaN             NaN               NaN

Summary Metrics:
  params.n_estimators  metrics.accuracy  metrics.precision  metrics.recall  metrics.f1_score
0                 100               1.0                1.0             1.0               1.0
1                  50               1.0                1.0             1.0               1.0
2                  10               1.0                1.0             1.0               1.0
3                 100               1.0                1.0             1.0               1.0
4                  50               1.0                1.0             1.0               1.0
5                  10               1.0                1.0             1.0               1.0
6                 100               1.0                NaN             NaN               NaN
7                 100               1.0                NaN             NaN               NaN
üèÉ View run Report_Generation at: http://localhost:5000/#/experiments/0/runs/<some-hash-value>
üß™ View experiment at: http://localhost:5000/#/experiments/0
```
- –≤ –ø–∞–ø–∫–µ screenshots –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ MLFlow:
 ![plot_100](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExp100metr.png?raw=true)
* –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è 100 Estimators
  ![plot_50](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExp50metr.png?raw=true)
* –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è 50 Estimators
  ![plot_10](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExp10metr.png?raw=true)
* –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è 10 Estimators
  ![screen_iris](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExpScreenshot.png?raw=true)
* —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö Iris Classification
  ![table_metr](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExpfullmetr.png?raw=true)
* —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
  ![graph_metr](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/IrisExpgpaphmetr.png?raw=true)
* —Å–≤–æ–¥–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
  ![artifacts](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/artifacts.png?raw=true)
* –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞ (–ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ —Ä–∞–º–∫–∞—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ Default)
  ![report](https://github.com/Dk-A-r/hw2_mlflow/blob/main/screenshots/report.png?raw=true)
* —Å–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
